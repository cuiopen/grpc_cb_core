# GNU Make workspace makefile autogenerated by Premake

.NOTPARALLEL:

ifndef config
  config=debug
endif

ifndef verbose
  SILENT = @
endif

ifeq ($(config),debug)
  grpc_cpp_cb_plugin_config = debug
  grpc_cb_config = debug
  greeter_cb_client_config = debug
  greeter_cb_server_config = debug
  route_guide_cb_client_config = debug
  route_guide_cb_server_config = debug
endif
ifeq ($(config),release)
  grpc_cpp_cb_plugin_config = release
  grpc_cb_config = release
  greeter_cb_client_config = release
  greeter_cb_server_config = release
  route_guide_cb_client_config = release
  route_guide_cb_server_config = release
endif

PROJECTS := grpc_cpp_cb_plugin grpc_cb greeter_cb_client greeter_cb_server route_guide_cb_client route_guide_cb_server

.PHONY: all clean help $(PROJECTS) examples

all: $(PROJECTS)

examples: route_guide_cb_server greeter_cb_server greeter_cb_client route_guide_cb_client

grpc_cpp_cb_plugin:
ifneq (,$(grpc_cpp_cb_plugin_config))
	@echo "==== Building grpc_cpp_cb_plugin ($(grpc_cpp_cb_plugin_config)) ===="
	@${MAKE} --no-print-directory -C . -f grpc_cpp_cb_plugin.make config=$(grpc_cpp_cb_plugin_config)
endif

grpc_cb:
ifneq (,$(grpc_cb_config))
	@echo "==== Building grpc_cb ($(grpc_cb_config)) ===="
	@${MAKE} --no-print-directory -C . -f grpc_cb.make config=$(grpc_cb_config)
endif

greeter_cb_client: grpc_cb
ifneq (,$(greeter_cb_client_config))
	@echo "==== Building greeter_cb_client ($(greeter_cb_client_config)) ===="
	@${MAKE} --no-print-directory -C . -f greeter_cb_client.make config=$(greeter_cb_client_config)
endif

greeter_cb_server: grpc_cb
ifneq (,$(greeter_cb_server_config))
	@echo "==== Building greeter_cb_server ($(greeter_cb_server_config)) ===="
	@${MAKE} --no-print-directory -C . -f greeter_cb_server.make config=$(greeter_cb_server_config)
endif

route_guide_cb_client: grpc_cb
ifneq (,$(route_guide_cb_client_config))
	@echo "==== Building route_guide_cb_client ($(route_guide_cb_client_config)) ===="
	@${MAKE} --no-print-directory -C . -f route_guide_cb_client.make config=$(route_guide_cb_client_config)
endif

route_guide_cb_server: grpc_cb
ifneq (,$(route_guide_cb_server_config))
	@echo "==== Building route_guide_cb_server ($(route_guide_cb_server_config)) ===="
	@${MAKE} --no-print-directory -C . -f route_guide_cb_server.make config=$(route_guide_cb_server_config)
endif

clean:
	@${MAKE} --no-print-directory -C . -f grpc_cpp_cb_plugin.make clean
	@${MAKE} --no-print-directory -C . -f grpc_cb.make clean
	@${MAKE} --no-print-directory -C . -f greeter_cb_client.make clean
	@${MAKE} --no-print-directory -C . -f greeter_cb_server.make clean
	@${MAKE} --no-print-directory -C . -f route_guide_cb_client.make clean
	@${MAKE} --no-print-directory -C . -f route_guide_cb_server.make clean

help:
	@echo "Usage: make [config=name] [target]"
	@echo ""
	@echo "CONFIGURATIONS:"
	@echo "  debug"
	@echo "  release"
	@echo ""
	@echo "TARGETS:"
	@echo "   all (default)"
	@echo "   clean"
	@echo "   grpc_cpp_cb_plugin"
	@echo "   grpc_cb"
	@echo "   greeter_cb_client"
	@echo "   greeter_cb_server"
	@echo "   route_guide_cb_client"
	@echo "   route_guide_cb_server"
	@echo ""
	@echo "For more information, see http://industriousone.com/premake/quick-start"